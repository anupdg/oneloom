const selectionData=document.getElementById("selectionData"),lastUpdate=document.getElementById("lastUpdate"),sceneFrame=document.getElementById("sceneFrame");let currentSelection={};function updateSelectionDisplay(){if(selectionData.innerHTML="",0===Object.keys(currentSelection).length){selectionData.innerHTML="<p>No selection data available yet.</p>";return}for(let e in currentSelection){let t=currentSelection[e],n=document.createElement("div");n.className="selection-item",n.innerHTML=`<strong>${e}:</strong> ${t}`,selectionData.appendChild(n)}}window.addEventListener("message",e=>{e.data&&"SELECTION_UPDATE"===e.data.type&&(currentSelection=e.data.payload.selection,updateSelectionDisplay(),lastUpdate.textContent="Last updated: "+new Date().toLocaleTimeString(),console.log("Received selection update:",currentSelection))}),window.addEventListener("load",()=>{console.log("Page loaded, requesting initial selection"),setTimeout(()=>{sceneFrame.contentWindow.postMessage({type:"GET_SELECTION"},"*")},3e3)});